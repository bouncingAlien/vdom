{"version":3,"sources":["vdom/createElement.js","vdom/render.js","vdom/mount.js","vdom/diff.js","main.js"],"names":["tagName","attr","children","renderElement","$el","document","createElement","Object","entries","key","value","setAttribute","child","$child","render","appendChild","vNode","createTextNode","$node","$target","replaceWith","diff","vOldNode","vNewNode","undefined","remove","$newNode","createVApp","count","id","dataCount","String","src","vApp","$app","$rootElement","getElementById","setInterval","vNewApp","patch","vapp","console","log"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAAe,kBAACA,OAAD,EAAiD;AAAA,iFAAR,EAAQ;AAAA,uBAArCC,IAAqC;AAAA,MAArCA,IAAqC,0BAA9B,EAA8B;AAAA,2BAA1BC,QAA0B;AAAA,MAA1BA,QAA0B,8BAAf,EAAe;;AAC5D,SAAO;AACHF,IAAAA,OAAO,EAAPA,OADG;AAEHC,IAAAA,IAAI,EAAJA,IAFG;AAGHC,IAAAA,QAAQ,EAARA;AAHG,GAAP;AAKH;;;;;;;;;;;;;;;;;;;ACND,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAiC;AAAA,MAA9BH,OAA8B,QAA9BA,OAA8B;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACnD,MAAME,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuBN,OAAvB,CAAZ,CADmD,CAGnD;;AAHmD,aAIzBO,MAAM,CAACC,OAAP,CAAeP,IAAf,CAJyB;;AAInD,2CAA+C;AAAA;AAAA,QAApCQ,GAAoC;AAAA,QAA/BC,KAA+B;;AAC3CN,IAAAA,GAAG,CAACO,YAAJ,CAAiBF,GAAjB,EAAsBC,KAAtB;AACH,GANkD,CAQnD;;;AARmD;AAAA;AAAA;;AAAA;AASnD,yBAAoBR,QAApB,8HAA6B;AAAA,UAAlBU,KAAkB;AACzB,UAAMC,MAAM,GAAGC,MAAM,CAACF,KAAD,CAArB;AACAR,MAAAA,GAAG,CAACW,WAAJ,CAAgBF,MAAhB;AACH;AAZkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcnD,SAAOT,GAAP;AACH,CAfD;;AAiBA,IAAMU,MAAM,GAAG,SAATA,MAAS,CAACE,KAAD,EAAW;AACtB,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B,OAAOX,QAAQ,CAACY,cAAT,CAAwBD,KAAxB,CAAP;AAC/B,SAAOb,aAAa,CAACa,KAAD,CAApB;AACH,CAHD;;eAKeF;;;;;;;;;;eCtBA,kBAACI,KAAD,EAAQC,OAAR,EAAoB;AAC/BA,EAAAA,OAAO,CAACC,WAAR,CAAoBF,KAApB;AACA,SAAOA,KAAP;AACH;;;;;;;;;;;ACHD;;;;AAEA,IAAMG,IAAI,GAAG,SAAPA,IAAO,CAACC,QAAD,EAAWC,QAAX,EAAwB;AACjC,MAAGA,QAAQ,KAAKC,SAAhB,EAA2B;AACvB,WAAO,UAAAN,KAAK,EAAI;AACZA,MAAAA,KAAK,CAACO,MAAN;AACA,aAAOD,SAAP;AACH,KAHD;AAIH;;AAAA;;AAED,MAAGF,QAAQ,CAACtB,OAAT,KAAqBuB,QAAQ,CAACvB,OAAjC,EAA0C;AACtC,WAAO,UAAAkB,KAAK,EAAI;AACZ,UAAMQ,QAAQ,GAAG,qBAAOH,QAAP,CAAjB;AACAL,MAAAA,KAAK,CAACE,WAAN,CAAkBM,QAAlB;AACA,aAAOA,QAAP;AACH,KAJD;AAKH;;AAAA;AAED,SAAO,UAAAR,KAAK,EAAI,CAEf,CAFD;AAGH,CAnBD;;eAqBeG;;;;;ACvBf;;AACA;;AACA;;AACA;;;;AAEA,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD;AAAA,SAAW,4BAAc,KAAd,EAAqB;AAC/C3B,IAAAA,IAAI,EAAE;AACF4B,MAAAA,EAAE,EAAE,KADF;AAEFC,MAAAA,SAAS,EAAEF;AAFT,KADyC;AAK/C1B,IAAAA,QAAQ,EAAE,CACN6B,MAAM,CAACH,KAAD,CADA,EAEN,4BAAc,KAAd,EAAqB;AACjB3B,MAAAA,IAAI,EAAE;AACF+B,QAAAA,GAAG,EAAE;AADH;AADW,KAArB,CAFM,EAON,4BAAc,OAAd,CAPM;AALqC,GAArB,CAAX;AAAA,CAAnB;;AAgBA,IAAIJ,KAAK,GAAG,CAAZ;AACA,IAAIK,IAAI,GAAGN,UAAU,CAACC,KAAD,CAArB;AAEA,IAAMM,IAAI,GAAG,qBAAOD,IAAP,CAAb;AACA,IAAIE,YAAY,GAAG,oBAAMD,IAAN,EAAY7B,QAAQ,CAAC+B,cAAT,CAAwB,MAAxB,CAAZ,CAAnB;AAEAC,WAAW,CAAC,YAAM;AACdT,EAAAA,KAAK;AACL,MAAMU,OAAO,GAAGX,UAAU,CAACC,KAAD,CAA1B;AACA,MAAMW,KAAK,GAAG,mBAAKC,IAAL,EAAWF,OAAX,CAAd;AACAH,EAAAA,YAAY,GAAGI,KAAK,CAACJ,YAAD,CAApB;AACAF,EAAAA,IAAI,GAAGK,OAAP;AACH,CANU,EAMR,IANQ,CAAX;AAQAG,OAAO,CAACC,GAAR,CAAYR,IAAZ","file":"main.1f19ae8e.map","sourceRoot":"../src","sourcesContent":["export default (tagName, { attr = {}, children = [] } = {} ) => {\n    return {\n        tagName,\n        attr,\n        children,\n    };\n};","const renderElement = ({ tagName, attr, children }) => {\n    const $el = document.createElement(tagName);\n\n    // set attributes\n    for(const [key, value] of Object.entries(attr)){\n        $el.setAttribute(key, value);\n    }\n\n    // set children\n    for( const child of children){\n        const $child = render(child);\n        $el.appendChild($child);\n    }\n\n    return $el;\n};\n\nconst render = (vNode) => {\n    if (typeof vNode === 'string') return document.createTextNode(vNode);\n    return renderElement(vNode);\n}\n\nexport default render;","export default ($node, $target) => {\n    $target.replaceWith($node);\n    return $node;\n}","import render from './render';\n\nconst diff = (vOldNode, vNewNode) => {\n    if(vNewNode === undefined) {\n        return $node => {\n            $node.remove();\n            return undefined;\n        }\n    };\n\n    if(vOldNode.tagName !== vNewNode.tagName) {\n        return $node => {\n            const $newNode = render(vNewNode);\n            $node.replaceWith($newNode);\n            return $newNode;\n        }\n    };\n    \n    return $node => {\n\n    };\n}\n\nexport default diff;","import createElement from './vdom/createElement';\nimport render from './vdom/render';\nimport mount from './vdom/mount';\nimport diff from './vdom/diff';\n\nconst createVApp = (count) => createElement('div', {\n    attr: {\n        id: 'app',\n        dataCount: count\n    },\n    children: [\n        String(count),\n        createElement('img', {\n            attr: {\n                src: 'https://media.giphy.com/media/3NtY188QaxDdC/giphy.gif'\n            }\n        }),\n        createElement('input')\n    ]\n});\n\nlet count = 0;\nlet vApp = createVApp(count);\n\nconst $app = render(vApp);\nlet $rootElement = mount($app, document.getElementById('root'));\n\nsetInterval(() => {\n    count++;\n    const vNewApp = createVApp(count);\n    const patch = diff(vapp, vNewApp);\n    $rootElement = patch($rootElement);\n    vApp = vNewApp;\n}, 1000);\n\nconsole.log($app);"]}